(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(12),a(13);var n=a(1),c=a.n(n),r=a(10),s=a.n(r),i=a(2),o=a(3),h=a(5),u=a(4),l=(a(18),a(0)),b=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("svg",{className:"logo header__logo",width:"60",height:"60",children:Object(l.jsx)("use",{href:""})}),Object(l.jsx)("h1",{className:"header__title",children:"Perfect image finder"})]})}}]),a}(n.Component),j=(a(20),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.handleInputChange=function(t){e.setState({value:t.currentTarget.value.toLowerCase().trim()})},e.handleFormSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.value)},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("form",{className:"search-form",id:"search-form",onSubmit:this.handleFormSubmit,children:[Object(l.jsx)("input",{onChange:this.handleInputChange,value:this.state.value,className:"search-form__input",type:"text",name:"query",autoComplete:"off",placeholder:"Search images..."}),Object(l.jsx)("button",{className:"btn search-form__btn",type:"submit",disabled:!this.state.value.length,children:"Search"}),Object(l.jsx)("button",{className:"btn search-form__btn",type:"button","data-action":"reset",disabled:!0,children:"Reset"})]})}}]),a}(n.Component)),p=a(9),f=(a(21),a(22),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsx)("li",{className:"gallery-card",href:"{{largeImageURL}}",children:Object(l.jsx)("img",{className:"gallery-card__img",src:this.props.url,alt:this.props.tags,loading:"lazy",id:this.props.id})})}}]),a}(n.Component)),d=a(11),g=a(6),m=a(8),O=Object(m.a)("BASE_URL"),v=Object(m.a)("API_KEY"),y=function(){function e(t){var a=t.url,n=t.key,c=t.perPage,r=t.imageType,s=t.orientation,o=t.safesearch;Object(i.a)(this,e),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object(g.a)(this,O)[O]=a,Object(g.a)(this,v)[v]=n,this.page=1,this.perPage=c,this.imageType=r,this.orientation=s,this.safesearch=o}return Object(o.a)(e,[{key:"setNextPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"getBasicFetchUrl",value:function(e){return"".concat(Object(g.a)(this,O)[O],"?key=").concat(Object(g.a)(this,v)[v],"&q=").concat(e,"&page=").concat(this.page)}},{key:"getFetchUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(this.getBasicFetchUrl(e),"&per_page=").concat(this.perPage,"&image_type=").concat(this.imageType,"&orientation=").concat(this.orientation,"&safesearch=").concat(this.safesearch);return t}}]),e}(),x=new y(Object(d.a)({},{url:"https://pixabay.com/api/",key:"22936688-6b3396d854cca2c3f8d0c7d41",perPage:40,imageType:"photo",orientation:"horizontal",safesearch:!0})),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={images:[]},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;console.log("prevProps.searchValue",e.searchValue),console.log("this.props.searchValue",this.props.searchValue),e.searchValue!==this.props.searchValue&&fetch(x.getFetchUrl(this.props.searchValue)).then((function(e){return e.json()})).then((function(e){a.setState((function(t){var a=t.images;return console.log(e.hits),{images:[].concat(Object(p.a)(a),Object(p.a)(e.hits))}}))}))}},{key:"render",value:function(){return console.log(this.state.images),Object(l.jsx)("ul",{children:this.state.images.map((function(e){return Object(l.jsx)(f,{url:e.webformatURL,alt:e.tags,id:e.id},e.id)}))})}}]),a}(n.Component),S=(a(23),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{children:"\xa9 All rights reserved. Images source"})})}}]),a}(n.Component)),_=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:"",status:"idle"},e.onSearchSubmit=function(t){e.setState({searchValue:t})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j,{onSubmit:this.onSearchSubmit}),this.state.searchValue?Object(l.jsx)(k,{searchValue:this.state.searchValue}):null]}),Object(l.jsx)(S,{})]})}}]),a}(n.Component),w=_;s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.a9cdbacd.chunk.js.map